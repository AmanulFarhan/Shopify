<%- include("../partials/head.ejs") %>

<section>
  <div class="container mt-5">
    <h2 class="text-center fw-bold text-primary mb-4">ğŸ›’ Checkout</h2>

    <form id="checkout-form" class="row g-4">
      <!-- Delivery Details -->
      <div class="col-lg-6 col-md-12">
        <div class="card shadow-sm p-4">
          <h4 class="mb-3 text-secondary">Delivery Details</h4>

          <div class="mb-3">
            <label for="address" class="form-label">ğŸ“ Address</label>
            <input type="text" name="address" id="address" class="form-control"
              value="<%= locals.formData ? locals.formData.address : '' %>" required>
          </div>

          <div class="mb-3">
            <label for="pincode" class="form-label">ğŸ·ï¸ Pincode</label>
            <input type="text" name="pincode" id="pincode" class="form-control"
              value="<%= locals.formData ? locals.formData.pincode : '' %>" required>
          </div>

          <div class="mb-3">
            <label for="mobile" class="form-label">ğŸ“ Mobile</label>
            <input type="text" name="mobile" id="mobile" class="form-control"
              value="<%= locals.formData ? locals.formData.mobile : '' %>" required>
          </div>

          <input type="hidden" name="userId" value="<%= user._id %>">
        </div>
      </div>

      <!-- Order Summary -->
      <div class="col-lg-6 col-md-12">
        <div class="card shadow-sm p-4 h-100 d-flex flex-column justify-content-between">
          <div>
            <h4 class="mb-3 text-secondary">ğŸ§¾ Order Summary</h4>

            <h5>Total Amount: <span class="text-success fw-bold">â‚¹<%= total %></span></h5>
            <hr>

            <h6 class="mb-2">ğŸ’³ Payment Method:</h6>
            <div class="form-check">
              <input class="form-check-input" type="radio" name="payment" value="COD" id="cod" required>
              <label class="form-check-label" for="cod">Cash on Delivery (COD)</label>
            </div>
            <div class="form-check">
              <input class="form-check-input" type="radio" name="payment" value="ONLINE" id="online" required>
              <label class="form-check-label" for="online">Online Payment</label>
            </div>
          </div>

          <div class="text-end mt-4">
            <button type="submit" class="btn btn-primary px-4">âœ… Checkout</button>
          </div>
        </div>
      </div>
    </form>
  </div>
</section>

<%- include("../partials/footer.ejs") %>
